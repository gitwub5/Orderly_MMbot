# Orderly Market Making Strategy

이 프로젝트는 암호화폐 거래소에서 자동으로 매수 및 매도 주문을 배치하여 시장 조성 역할을 하는 간단한 시장 조성 전략을 구현합니다. 이 전략은 특정 간격으로 현재 시장 상황을 분석하고, 주문을 배치하고 조정하는 작업을 반복합니다.

## 주요 목적

- 오더북 채우기
- 손실 최소화
- 스프레드 안에서 거래량 많이 내기

## 주요 구성 요소

### StrategyConfig 인터페이스

- `symbol`: 거래할 암호화폐 페어 (예: 'BTC-USD').
- `orderQuantity`: 각 주문의 수량.
- `tradePeriodMs`: 거래 주기, 밀리초 단위 (예: 1분 = 60000 밀리초).
- `stdDevPeriod`: 표준 편차를 계산할 최근 거래 수 (예: 최근 50번의 거래).
- `orderLevels`: 주문 레벨 수.
- `orderSpacing`: 주문 간격 비율.
- `takeProfitRatio`: 이익 실현 비율.
- `stopLossRatio`: 손절매 비율.

### MarketMakingStrategy 클래스

이 클래스는 시장 조성 전략을 실행합니다. 주요 메서드는 다음과 같습니다:

- `executeStrategy()`: 전략을 실행합니다. 초기 주문을 배치하고, 일정한 주기로 주문을 모니터링 및 조정합니다.
- `spreadOrder()`: 최신 시세 데이터와 표준 편차를 바탕으로 중립 평균 가격을 계산하고, 여러 레벨의 매수 및 매도 주문을 배치합니다.
- `fillOrderBook()`: 여러 레벨의 매수 및 매도 주문을 배치하여 오더북을 채웁니다.

## 사용 예시

1. `cexClient` 인스턴스를 생성하고 API 키와 시크릿을 사용하여 초기화합니다.
2. `StrategyConfig` 객체를 생성하여 거래할 암호화폐 페어, 주문 수량, 거래 주기, 표준 편차 계산을 위한 거래 수를 설정합니다.
3. `MarketMakingStrategy` 인스턴스를 생성하고, 설정한 구성과 함께 초기화합니다.
4. `executeStrategy` 메서드를 호출하여 전략을 실행합니다.

이 전략은 주기적으로 시장 데이터를 분석하고 매수 및 매도 주문을 조정하여 시장의 유동성을 제공하는 데 도움을 줍니다.

## 주요 기능 및 설명

- **중립 평균 가격 계산**: 마지막 거래 가격에서 현재 포지션 크기와 표준 편차의 제곱을 곱한 값을 뺀 값을 사용하여 중립 평균 가격을 계산합니다.
- **주문 배치**: 고정 비율을 사용하여 여러 레벨의 매수 및 매도 주문을 배치합니다. 주문 간격은 마지막 거래 가격의 일정 비율로 설정됩니다.
- **이익 실현 및 손절매**: 매수 및 매도 주문의 가격이 특정 범위 내에 있는지 확인하여 이익 실현과 손절매를 설정합니다.

이 전략은 거래량을 늘리고 오더북을 채우며, 손실을 최소화하고 스프레드 내에서 자전거래를 수행하는 데 효과적입니다.